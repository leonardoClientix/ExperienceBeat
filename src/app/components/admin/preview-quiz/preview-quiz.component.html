<div *ngIf="loading == false" [style.background]="colorBackground" [style.background]="quiz.colors.background" class="background-prev prev-data">
<nav class="navbar navbar-light " [style.background]="quiz.colors.header" [style.color]="quiz.colors.name" >
    <a class="navbar-brand" href="#">
      <img [src]="quiz.logo" width="30" height="30" alt="">
    </a>
</nav>
<div class="container top-50">
 
<form  #formDataUser="ngForm" >
  <div class="card animated fadeIn mens-data" [hidden]="!showInput">
      <div class="cnt-message">
          <div class="card-text" [innerHTML]="quiz.initial_text" translate="no"></div>
        <div class="form-group" *ngFor="let item of quiz.inputs">
          <input  class="form-control inp-quiz" [id]="item.name" name="{{ item.name }}" [placeholder]="item.placeholder" ngModel >
        </div>
        <button type="submit" class="btn btn-primary bg-col" (click)="openQuiz(formDataUser)">Enviar</button>
      </div>
      <div class="alert alert-danger" role="alert" *ngIf="validExist">
        Este usuario no existe
      </div>
  </div>
</form>

<form  #formPrev="ngForm" class="animated bounceInUp fast" (ngSubmit)="saveResponse(formPrev)" [hidden]="!showQuestions">

    <div *ngFor="let item of quiz.questions; let idQ = index">
    
              <div class="row boxQuestion" *ngIf="item.typeDesign == 'message'">
                <div class="col-md-12 mb-12 cont-itemquestion" [style.background]="quiz.colors.question" [style.background]="item.colors.question">
                  <div class="cont-question" [style.color]="quiz.colors.txtquestion" [style.color]="item.colors.txtquestion" [innerHTML]="item.description"></div>
                </div>
              </div> 
  
  
              <div class="row boxQuestion" *ngIf="item.typeDesign == 'multiple_choice'">
                <div class="col-md-12 mb-12 cont-itemquestion" [style.background]="quiz.colors.question" [style.background]="item.colors.question">
                  <div class="cont-question" [style.color]="quiz.colors.txtquestion" [style.color]="item.colors.txtquestion" [innerHTML]="item.description"></div>
          
                    <div class="list-check">
                      <div class="form-check form-check-inline" *ngFor="let idqs of item.items; let i = index">
                        <input class="form-check-input" type="radio" name="question_{{i}}"  [value]="opt"  id="inlineCheckbox_{{i}}" (click)="stateQuiz(idqs, idqs.name,'multiple_choice')" [checked]="idqs.check">
                        <label class="form-check-label" for="inlineCheckbox_{{i}}" >
                          <span translate="no">
                           <div [style.color]="quiz.colors.txtoption" [style.color]="quiz.colors.txtquestion" [style.color]="item.colors.txtquestion">{{ idqs.name }}</div>
                          </span>
                        </label>
                      </div>
                    </div> 
  
                </div>
              </div> 
  
              <div class="row boxQuestion" *ngIf="item.typeDesign == 'check_label'">
  
                <div class="col-md-12 mb-12 cont-itemquestion" [style.background]="quiz.colors.question" [style.background]="item.colors.question">
                  <div class="cont-question" [style.color]="quiz.colors.txtquestion" [style.color]="item.colors.txtquestion" [innerHTML]="item.description"></div>
         
                    <div class="list-check">
                      <div class="row">
                        <div class="col-md-6" *ngFor="let lab of item.items; let l = index">
                          <div class="row">
                              <div class="label-option col-md-3">
                                <!-- <input class="input-opt" [style.color]="quiz.colors.txtoption" [style.color]="item.colors.txtquestion" [name]="item.id+'_label_'+l" [(ngModel)]="lab.label"/> -->
                                <div [style.color]="quiz.colors.txtoption" [style.color]="item.colors.txtquestion" >{{ lab.label }}</div>
                              </div>
                              <div class="items-options-list col-md-3">
                                <div class="form-check form-check-inline" *ngFor="let idqs of item.items[l].options; let i = index">
                                  <input class="form-check-input inp-checkbox" type="radio" name="question_{{l}}_{{i}}" [value]="opt"  id="inlineCheckbox_{{l}}_{{i}}" (click)="stateQuiz(lab, idqs.name,'check_label')" [checked]="lab.options[i].check && idqs.name == lab.options[i].name">
                                  <label class="form-check-label" for="inlineCheckbox_{{l}}_{{i}}" >
                                    <span translate="no">
                                      <!-- <input name="opnum" class="input-opt" [style.color]="quiz.colors.txtoption" [style.color]="item.colors.txtquestion" [name]="item.id+'_label_'+l+'_opt_'+i" [(ngModel)]="idqs.name"/> -->
                                      <div [style.color]="quiz.colors.txtoption" [style.color]="item.colors.txtquestion"  >{{ idqs.name }}</div>
                                    </span>
                                  </label> 
                                </div>
                              </div>
                          </div>
                        </div>
                      </div>
                    </div> 
  
                </div>
  
              </div> 
  
  
              <div class="row boxQuestion" *ngIf="item.typeDesign == 'open_question'">
  
                <div class="col-md-12 mb-12 cont-itemquestion" [style.background]="quiz.colors.question" [style.background]="item.colors.question">
                  <div class="cont-question" [style.color]="quiz.colors.txtquestion" [style.color]="item.colors.txtquestion" [innerHTML]="item.description"></div>
                  <textarea class="cont-question-txt" id="description_{{item.id}}"  name="description_{{item.id}}" (keyup)="stateQuiz(item,valueTxt,'open_question')" #valueTxt></textarea>
                </div>
  
              </div>  
  
            
              <div class="row boxQuestion style-table" *ngIf="item.typeDesign == 'table'">
  
                <div class="col-md-12 mb-12 cont-itemquestion" [style.background]="quiz.colors.question" [style.background]="item.colors.question">
                  <div class="cont-question" [style.color]="quiz.colors.txtquestion" [style.color]="item.colors.txtquestion" [innerHTML]="item.description"></div>
                  <div class="row cont-table">
                    <div class="col-md-4 mb-4 box-fixed">
                      <div class="col-md-12 mb-12 tr head-table"></div>
                      <div *ngFor="let lab of item.items; let l = index">
                        <div class="col-md-12 mb-12 tr head-table">
                          <div  [style.color]="quiz.colors.txtoption" [style.color]="item.colors.txtquestion">{{ lab.label }}</div>
                        </div>
                      </div>
                    </div>
                    
                    <div class="col-md-12 mb-12">
                      
                      <div *ngFor="let labOne of item.items; let l = index" class="free-fixed row">
  
                        <div *ngIf="l == 0" class="w-full">
                          
                          <div  *ngFor="let idqs of item.items[l].options; let i = index" class="col-md-4 col-td">
                            <div class="row" >
                              <div class="col-md-12 mb-12 tr head-table">
                                <div [style.color]="quiz.colors.txtoption" [style.color]="item.colors.txtquestion" >{{ idqs.name }}</div>
                              </div> 
                            </div>
                           <div class="row" *ngFor="let lab of item.items; let d = index">
                              <div class="col-md-4 mb-4 td" (click)="stateQuiz(lab, idqs.name,'table')" [ngClass]="{'active': lab.options[i].check && idqs.name == lab.options[i].name }"></div>
                           </div>
                          </div>
                        </div>
  
                      </div>
                    </div>
                  </div>
                </div>
  
              </div> 
  
    </div>

    <button type="submit" class="btn btn-primary" >Enviar</button>
  </form>



</div>

</div>
<div class="d-flex justify-content-center load-comp" *ngIf="loading == true">
    <div class="spinner-border" role="status">
      <span class="sr-only">Loading...</span>
    </div>
</div>

